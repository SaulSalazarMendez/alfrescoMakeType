<!DOCTYPE html>
<html lang="en">
<head>
  <title>Add type to alfresco</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/underscore-min.js"></script>
  <style type="text/css">
    .asistente {
        transform: scale(0);
        transition: all 1s;
    }
    .asistente.animate {
        transform: scale(1);
    }
  </style>
    <script src="alfresco.js"></script>
</head>
<body>
<label for="file" class="btn btn-primary">Archivo</label>
<input type="file" id="file" style="display: none;">
<button class="activarAyuda btn btn-primary" style="position: absolute;right: 10px; top: 10px;">Ayuda</button>
<img class="asistente" src="img/0006.gif" style="position: absolute;right: 10px; bottom: 10px;" id="clipo">
<div id="mascotas" style="position: absolute;right: 100px; bottom: 120px; display: none;" >
    <div class="ayudante" style="position: absolute;right: 200px;" data-url="0006.gif"><img src="img/mini-clipo.png" alt=""></div>
    <div class="ayudante" style="position: absolute;right: 150px;" data-url="MERLIN.gif"><img src="img/mini-merlin.png" alt=""></div>
    <div class="ayudante" style="position: absolute;right: 100px; " data-url="cat.gif"><img src="img/mini-cat.png" alt=""></div>
    <div class="ayudante" style="position: absolute;right: 50px; " data-url="dog.gif"><img src="img/mini-dog.png" alt=""></div>
</div>
<div id="helpClipo" class="alert alert-warning alert-dismissable" style="position: absolute;right: 10px; bottom: 120px; display: none">

  <!-- <button type="button" class="close" data-dismiss="alert">&times;</button> -->
  <strong>¡Hey tú!</strong> <span id="helpText">necesitas ayuda.</span>
</div>
<div class="container">
    <div class="panel panel-default atributo">
     <div class="panel-body">
        <div class="panel panel-danger atributo">
            <div class="panel-heading">
            <h3 class="panel-title"><a href="#" class="tituloPanel">Model <a href="#" class="createModel pull-right style="top:10px; right: 10" data-toggle="modal" data-target="#myModal"><i class="glyphicon glyphicon-file"></i></a> <a href="#" class="saveModel pull-right style="top:10px; right: 20"><i class="glyphicon glyphicon-download-alt"></i></a></h3>
          </div>
            <div class="panel-body">
            <label for="xmlns">xmlns:</label>
            <input class="form-control" id="xmlns" type="text" />
            <label for="name">name:</label>
            <input class="form-control" id="name" type="text" />
            </div>
        </div>

        <div class="panel panel-success atributo">
            <div class="panel-heading">
            <h3 class="panel-title"><a href="#" class="tituloPanel">Imports <a href="#" class="agregarImport pull-right style="top:10px; right: 10"><i class="glyphicon glyphicon-plus-sign"></i></a></h3>
          </div>
            <div class="panel-body">
            
            </div>
        </div>
        <label for="namespace">Namespace</label>
        <input id="namespace" type="text"  class="form-control" />
        <label for="text1">Prefix</label>
        <input id="prefijo" type="text"  class="form-control" />

        <br>

        <div class="panel panel-primary atributo">
            <div class="panel-heading">
            <h3 class="panel-title"><a href="#" class="tituloPanel">Types <a href="#" class="formulario pull-right style="top:10px; right: 10"><i class="glyphicon glyphicon-plus-sign"></i></a> <a href="#" class="createTypes pull-right style="top:10px; right: 20" data-toggle="modal" data-target="#myModal"><i class="glyphicon glyphicon-file"></i></a>
            <a href="#" class="limpiarTodoTypes pull-right style="top:10px; right: 30" ><i class="glyphicon glyphicon-flash"></i></a>
            </h3>
          </div>
            <div class="panel-body">
            
            <div id="contenido-types">
                <br>
            </div>
            </div>
        </div>

        <div class="panel panel-info atributo">
            <div class="panel-heading">
            <h3 class="panel-title"><a href="#" class="tituloPanel">Aspects <a href="#" class="addAspect pull-right style="top:10px; right: 10"><i class="glyphicon glyphicon-plus-sign"></i></a><a href="#" class="createAspects pull-right style="top:10px; right: 20" data-toggle="modal" data-target="#myModal"><i class="glyphicon glyphicon-file"></i></a> <a href="#" class="limpiarTodoAspects pull-right style="top:10px; right: 30" ><i class="glyphicon glyphicon-flash"></i></a></h3>
          </div>
            <div class="panel-body">
            
            <div id="contenido-aspects">
                <br>
            </div>
            </div>
        </div>
        <br>
    </div>
    </div>
</div>



<script type="template/text" id="template-formulario"> 
    
    <div class="panel panel-primary newFormulario" style="">
      <div class="panel-heading">
        <h3 class="panel-title"><a href="#" class="tituloPanel">Type <span id="titulo"></span></a> <a href="#" class="eliminar pull-right style="top:10px; right: 10"><i class="glyphicon glyphicon-remove-circle"></i></a></h3>
      </div>
      <div class="panel-body">
        <label for="text1">Name:</label>
        <input id="name" type="text" class="form-control"/>
        <label for="title">Title:</label>
        <input id="title" type="text" class="form-control"/>
        <br>
        <button class="agregarAtributo btn btn-primary">Add attribute</button>
        <button class="agregarAspecto btn btn-primary">Add aspect</button>
        <br>
        <div class="row">
              <div class="col-md-6"><div class="contenidoAtributos"></div></div>
              <div class="col-md-6"><div class="contenidoAspectos"></div></div>
            </div>

      </div>
    </div>
</script>

<script type="template/text" id="template-aspectos-type"> 
    <div class="panel panel-info newAspect" style="">
      <div class="panel-heading">
        <h3 class="panel-title"><a href="#" class="tituloPanel">Aspect <span id="titulo"></span></a> <a href="#" class="eliminar pull-right style="top:10px; right: 10"><i class="glyphicon glyphicon-remove-circle"></i></a></h3>
      </div>
      <div class="panel-body">
        <label for="text1">Name:</label>
        <input id="name" type="text" class="form-control"/>
        <label for="title">Title:</label>
        <input id="title" type="text" class="form-control"/>
        <br>
        <button class="agregarAtributo btn btn-info">Add attribute</button>
        <br>
        <div class="row">
             <div class="col-md-6"><div class="contenidoAtributos"></div></div>
        </div>
      </div>
    </div>
</script>

<script type="template/text" id="template-aspect"> 
    <div class="panel panel-warning aspecto">
     <div class="panel-heading">
        <h3 class="panel-title"><a href="#" class="tituloPanel">Aspect <span id="titulo"> </a><a href="#" class="eliminar pull-right style="top:10px; right: 10"><i class="glyphicon glyphicon-remove-circle"></i></a></h3>
      </div>
      <div class="panel-body">
        <label for="text1">Prefix:</label>
        <input class="form-control" id="prefix" type="text" /><br>

        <label for="text1">Name:</label>
        <input class="form-control" id="name" type="text" /><br>
        <br>
      </div>
    </div>
</script>

<script type="template/text" id="template-import"> 
    <div class="panel panel-default import">
     <div class="panel-heading">
        <h3 class="panel-title"><a href="#" class="tituloPanel">Import <span id="titulo"> </a><a href="#" class="eliminar pull-right style="top:10px; right: 10"><i class="glyphicon glyphicon-remove-circle"></i></a></h3>
      </div>
      <div class="panel-body">
        <label for="uri">URI:</label>
        <input class="form-control" id="uri" type="text" /><br>
        <label for="text1">Prefix:</label>
        <input class="form-control" id="prefix" type="text" /><br>
        <br>
      </div>
    </div>
</script>

<script type="template/text" id="template-attr"> 
    <div class="panel panel-default atributo">
     <div class="panel-heading">
        <h3 class="panel-title"><a href="#" class="tituloPanel">Atribute <span id="titulo"></a> <a href="#" class="eliminar pull-right style="top:10px; right: 10"><i class="glyphicon glyphicon-remove-circle"></i></a></h3>
      </div>
      <div class="panel-body">
        <label for="text1">Name:</label>
        <input class="form-control" id="name" type="text" /><br>
        <label for="tipo">Select type:</label>
        <select class="form-control" id="tipo"><
        <option value="0" disabled active selected="selected">Select one option</option>
        <option value="text">Text</option>
        <option value="int">Int</option>
        <option value="long">Long</option>
        <option value="float">Float</option>
        <option value="double">Double</option>
        <option value="date">Date</option>
        <option value="dateTime">DateTime</option>
        <option value="boolean">Boolean</option>
        <option value="any">Any</option>

        </select><br>
        <input type="checkbox" id="mandatory" value=""> Madatory<br>
        <br>
      </div>
    </div>
</script>

<script type="template/text" id="template-type-alfresco"> 
    <% _.each(Object.types, function(type){ %>
    <type name="<%= Object.prefix%>:<%=type.name%>">
            <title> <%=type.title%></title>
            <parent>bpm:startTask</parent>
            <properties>
                <% _.each(type.atributes, function(attr){ %><property name="<%= Object.prefix%>:<%=attr.name%>">
                    <type>d:<%=attr.type%></type>
                    <mandatory><%=attr.mandatory%></mandatory>
                </property><% }); %>
            </properties>
            <mandatory-aspects>
                <% _.each(type.aspects, function(aspect){ %><aspect><%= aspect.prefix%>:<%= aspect.name%></aspect><% }); %>
            </mandatory-aspects>
        </type> 
        <% }); %>
</script>

<script type="template/text" id="template-aspect-alfresco"> 
    <% _.each(Object.aspects, function(type){ %>
    <aspect name="<%= Object.prefix%>:<%=type.name%>">
            <title> <%=type.title%></title>
            <properties>
                <% _.each(type.atributes, function(attr){ %><property name="<%= Object.prefix%>:<%=attr.name%>">
                    <type>d:<%=attr.type%></type>
                    <mandatory><%=attr.mandatory%></mandatory>
                </property><% }); %>
            </properties>
        </aspect> 
        <% }); %>
</script>


<!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Código del tipo</h4>
        </div>
        <div class="modal-body">
          <p>Copiar el siguiente código entre las etiquetas de <span id="etiquetas" style="font-weight: bold">types</span></p>
           <button class="pull-right btn btn-primary copiarTexto">Copiar</button>
           <textarea id="codigo-alfresco" style="width: 100%" rows="25"></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>


</body>
</html>